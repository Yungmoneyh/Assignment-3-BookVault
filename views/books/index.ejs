<%- include("../partials/header") %>

<!-- Public Books page wrapper -->
<div class="page">
  <h2>Public Books</h2>

  <!-- Button to add a new book -->
  <a class="btn" href="/books/new">Add Book</a>

  <!-- Check if there are any books -->
  <% if (books.length === 0) { %>
    <p>No books have been added yet.</p>
  <% } else { %>
    <ul>
      <% books.forEach(book => { %>
        <li>
          <!-- Display book title and author -->
          <strong><%= book.title %></strong> â€” <%= book.author %>
          
          <!-- Edit button for each book -->
          <a href="/books/<%= book._id %>/edit" class="btn btn-sm btn-warning">Edit</a>
          
          <!-- Delete button for each book with confirmation -->
          <form action="/books/<%= book._id %>?_method=DELETE" method="POST" style="display:inline;">
            <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this book?');">Delete</button>
          </form>
        </li>
      <% }) %>
    </ul>
  <% } %>
</div>

<%- include("../partials/footer") %>
